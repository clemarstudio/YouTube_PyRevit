<Window xmlns="http://schemas.microsoft.com/winfx/2006/xaml/presentation"
        xmlns:x="http://schemas.microsoft.com/winfx/2006/xaml"
        Title="Smart Parameter Copier" 
        Width="380"
        SizeToContent="Height"
        WindowStartupLocation="CenterScreen" 
        Topmost="True"
        ResizeMode="CanResize">
    
    <ScrollViewer VerticalScrollBarVisibility="Auto" MaxHeight="800">
        <StackPanel Margin="15">
            
            <!-- 1. Source -->
            <TextBlock Text="1. Source Element" FontWeight="Bold" Margin="0,0,0,5"/>
            <Button x:Name="btn_pick_source" Content="Pick Source" Height="30" Margin="0,0,0,5"/>
            <TextBlock x:Name="lbl_source_name" Text="None selected" Foreground="Gray" Margin="0,0,0,15" TextTrimming="CharacterEllipsis"/>

            <!-- 2. Target -->
            <TextBlock Text="2. Target Elements" FontWeight="Bold" Margin="0,0,0,5"/>
            <Button x:Name="btn_pick_target" Content="Pick Targets" Height="30" Margin="0,0,0,5"/>
            <TextBlock x:Name="lbl_target_name" Text="None selected" Foreground="Gray" Margin="0,0,0,15" TextTrimming="CharacterEllipsis"/>

            <!-- 3. Tabs -->
            <TabControl Margin="0,0,0,15">
                
                <!-- TAB 1: Auto Match -->
                <TabItem Header="Auto Match">
                    <StackPanel Margin="10">
                        <TextBlock Text="1. Choose Parameter Type:" Margin="0,0,0,5" FontWeight="Bold"/>
                        <!-- Selector for Instance vs Type -->
                        <ComboBox x:Name="cmb_param_type" Height="25" Margin="0,0,0,10" SelectedIndex="0">
                            <ComboBoxItem Content="Instance Parameters"/>
                            <ComboBoxItem Content="Type Parameters"/>
                        </ComboBox>

                        <TextBlock Text="2. Select Matching Parameters:" Margin="0,0,0,5" FontWeight="Bold"/>
                        <ListBox x:Name="lst_params" Height="100" SelectionMode="Extended" Margin="0,0,0,10" BorderBrush="Gray" BorderThickness="1"/>
                        
                        <Button x:Name="btn_copy_auto" Content="Copy Selected" Height="35" FontWeight="Bold" Background="#4CAF50" Foreground="White"/>
                        <TextBlock Text="*Read-only parameters are hidden" FontSize="10" Foreground="Gray" HorizontalAlignment="Center" Margin="0,2,0,0"/>
                    </StackPanel>
                </TabItem>

                <!-- TAB 2: Manual Map -->
                <TabItem Header="Internal Transfer">
                    <StackPanel Margin="10">
                        <TextBlock Text="Move data within Target elements:" FontStyle="Italic" Foreground="Gray" Margin="0,0,0,10"/>
                        
                        <TextBlock Text="From Parameter:" Margin="0,0,0,2"/>
                        <ComboBox x:Name="cmb_source_param" Height="25" Margin="0,0,0,10"/>
                        
                        <TextBlock Text="To Parameter:" Margin="0,0,0,2"/>
                        <ComboBox x:Name="cmb_target_param" Height="25" Margin="0,0,0,15"/>
                        
                        <Button x:Name="btn_copy_manual" Content="Transfer Values" Height="35" FontWeight="Bold" Background="#FF9800" Foreground="White"/>
                    </StackPanel>
                </TabItem>
                
            </TabControl>

        </StackPanel>
    </ScrollViewer>
</Window>